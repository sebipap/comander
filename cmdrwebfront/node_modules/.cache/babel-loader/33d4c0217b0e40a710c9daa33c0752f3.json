{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sebastianWin\\\\dev\\\\comander\\\\cmdrwebfront\\\\src\\\\pages\\\\dashboard\\\\editMenuItemWindow.js\",\n    _s6 = $RefreshSig$();\n\nimport { AddIcon, AttachmentIcon, ChevronDownIcon } from \"@chakra-ui/icons\";\nimport { Box, Button, CloseButton, Heading, HStack, Input, Modal, ModalBody, ModalOverlay, ModalContent, VStack, Stack, Textarea, useDisclosure, ModalHeader, ModalCloseButton, ModalFooter, InputGroup, InputLeftElement, Tag, Avatar, TagLabel, IconButton, Menu, MenuButton, MenuList, MenuItem, Table, TableCaption, Thead, Tr, Th, Tbody, Td, Image, Tooltip, useToast, Container, SimpleGrid, Popover, PopoverTrigger, Portal, PopoverContent, PopoverArrow, PopoverHeader, PopoverCloseButton, PopoverBody, Text } from \"@chakra-ui/react\";\nimport { useRef, useState } from \"react\";\nimport { deleteMenuItem } from \"../../scripts/deleteMenuItem\";\nimport { newMenuItem } from \"../../scripts/newMenuItem\";\nimport { uploadImg } from \"../../scripts/uploadImg\";\nimport { dietTagData, getDietData } from \"../menu/dietTags\";\nimport { MenuItemImage } from \"../menu/menuItemImage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const EditMenuItemWindow = props => {\n  _s6();\n\n  var _s = $RefreshSig$(),\n      _s2 = $RefreshSig$(),\n      _s3 = $RefreshSig$(),\n      _s4 = $RefreshSig$(),\n      _s5 = $RefreshSig$();\n\n  const [name, setName] = useState(props.item.name);\n  const [category, setCategory] = useState(props.item.category.name);\n  const [description, setDescription] = useState(props.item.description);\n  const [imgURL, setImgURL] = useState(props.item.imgURL);\n  const [variants, setVariants] = useState(props.item.variants);\n  const [tags, setTags] = useState(props.item.tags);\n  const [extras, setExtras] = useState(props.item.extras);\n  const [aditionalOptions, setAditionalOptions] = useState(props.item.aditionalOptions);\n  const [imgFile, setImgFile] = useState(null);\n\n  const handleNameChange = e => setName(e.target.value);\n\n  const handleCategoryChange = e => setCategory(e.target.value);\n\n  const handleDescriptionChange = e => setDescription(e.target.value);\n\n  const addVariant = variant => setVariants(variants.concat(variant));\n\n  const addExtra = extra => setExtras(extras.concat(extra));\n\n  const addAditionalOption = option => setAditionalOptions(aditionalOptions.concat(option));\n\n  const removeVariant = variantToDelete => setVariants(variants.filter(variant => variant != variantToDelete));\n\n  const removeExtra = extraToDelete => setExtras(extras.filter(extra => extra != extraToDelete));\n\n  const removeAditionalOption = optionToDelete => setAditionalOptions(aditionalOptions.filter(option => option != optionToDelete));\n\n  const addChildOption = (propertyName, optionName) => {\n    const oldParentOption = aditionalOptions.find(option => option.propertyName == propertyName);\n    const newParentOption = { ...oldParentOption,\n      options: oldParentOption.options.concat(optionName)\n    };\n    setAditionalOptions(aditionalOptions.filter(option => option.propertyName != propertyName).concat(newParentOption));\n  };\n\n  const handleSubmit = () => {\n    const itemObj = {\n      name,\n      category,\n      description,\n      imgURL: imgFile ? imgFile.name : imgURL,\n      tags,\n      variants,\n      extras,\n      aditionalOptions\n    };\n    newMenuItem(itemObj).then(res => {\n      const {\n        message,\n        id,\n        error\n      } = res;\n      toast({\n        title: error ? \"Error Al Guardar!\" : \"Guadado!\",\n        description: error ? error : message,\n        status: error ? \"error\" : \"success\",\n        duration: 9000,\n        isClosable: true\n      });\n\n      if (imgFile && !error) {\n        uploadImg(imgFile, id).then(res => toast({\n          title: \"Se GuardÃ³ la Imagen\",\n          description: res.message,\n          status: \"success\",\n          duration: 9000,\n          isClosable: true\n        })).catch(err => toast({\n          title: err.message,\n          status: \"error\",\n          duration: 9000,\n          isClosable: true\n        }));\n      }\n    }).catch(err => toast({\n      title: err.message,\n      status: \"error\",\n      duration: 9000,\n      isClosable: true\n    }));\n  };\n\n  const handleRemove = () => {\n    deleteMenuItem(props.item._id).then(res => toast({\n      title: res.error ? \"Error Al Guardar!\" : \"Guadado!\",\n      description: res.error ? res.error : res.message,\n      status: res.error ? \"error\" : \"success\",\n      duration: 9000,\n      isClosable: true\n    })).catch(err => toast({\n      title: err,\n      description: err,\n      status: \"error\",\n      duration: 9000,\n      isClosable: true\n    }));\n  };\n\n  const RemoveButton = () => {\n    _s();\n\n    const [onRemove, setOnRemove] = useState(false);\n    return onRemove ? /*#__PURE__*/_jsxDEV(Button, {\n      colorScheme: \"red\",\n      children: `Estoy Seguro de Eliminar ${name} `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Button, {\n      colorScheme: \"red\",\n      variant: \"outline\",\n      onClick: () => setOnRemove(true),\n      children: \"Eliminar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this);\n  };\n\n  _s(RemoveButton, \"CUdQnMq/mzhRTUZzQ7EAByjqeOc=\");\n\n  const ConfigurationArea = _ref => {\n    _s2();\n\n    let {\n      title,\n      values,\n      handleAdd,\n      handleRemove\n    } = _ref;\n    const [item, setItem] = useState({\n      name: \"\",\n      price: 0\n    });\n\n    const handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      setItem({ ...item,\n        [name]: value\n      });\n    };\n\n    return /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 4,\n      p: \"3\",\n      border: \"1px solid #DDDDDD \",\n      rounded: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"md\",\n        children: [\" \", title, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        variant: \"simple\",\n        children: [/*#__PURE__*/_jsxDEV(Thead, {\n          children: /*#__PURE__*/_jsxDEV(Tr, {\n            children: [/*#__PURE__*/_jsxDEV(Th, {\n              children: \"Nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Th, {\n              children: \"Precio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tbody, {\n          children: values.map(value => /*#__PURE__*/_jsxDEV(Tr, {\n            children: [/*#__PURE__*/_jsxDEV(Td, {\n              children: value.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Td, {\n              children: [\"$\", value.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n              onClick: () => handleRemove(value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HStack, {\n        children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            placeholder: \"Nombre \",\n            name: \"name\",\n            value: item.name,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n          children: [/*#__PURE__*/_jsxDEV(InputLeftElement, {\n            pointerEvents: \"none\",\n            color: \"gray.300\",\n            fontSize: \"1.2em\",\n            children: \"$\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Precio\",\n            type: \"number\",\n            name: \"price\",\n            value: item.price,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          icon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 29\n          }, this),\n          onClick: () => handleAdd(item)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this);\n  };\n\n  _s2(ConfigurationArea, \"XKAeNh5JnbZcxzwhPnqOq/lIdC8=\");\n\n  const DietTagsEdit = props => {\n    _s3();\n\n    const [onCustomInput, setIsOnCustomInput] = useState(false);\n    const [customTag, setCustomTag] = useState(\"\");\n\n    const handleCustomTagInput = event => setCustomTag(event.target.value);\n\n    const handleAddCustomTag = () => {\n      addTag(customTag);\n      setCustomTag(\"\");\n    };\n\n    const removeTag = tagName => {\n      setTags(tags.filter(tag => tag != tagName));\n    };\n\n    const addTag = tagName => setTags(tags.concat(tagName));\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        p: \"3\",\n        spacing: \"3\",\n        border: \"1px solid #DDDDDD \",\n        rounded: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          size: \"md\",\n          children: \" Etiquetas \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: props.tags.map(tag => {\n            const {\n              imgURL,\n              name\n            } = getDietData(tag);\n\n            const remove = () => removeTag(tag);\n\n            return /*#__PURE__*/_jsxDEV(Tag, {\n              size: \"lg\",\n              borderRadius: \"full\",\n              m: \"1\",\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                src: imgURL,\n                size: \"xs\",\n                name: name,\n                ml: -1,\n                mr: 2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TagLabel, {\n                children: name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n                onClick: remove\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), onCustomInput ? /*#__PURE__*/_jsxDEV(HStack, {\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Otra etiqueta\",\n            onChange: handleCustomTagInput,\n            value: customTag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            icon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 33\n            }, this),\n            onClick: handleAddCustomTag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Menu, {\n          children: [/*#__PURE__*/_jsxDEV(MenuButton, {\n            as: Button,\n            rightIcon: /*#__PURE__*/_jsxDEV(ChevronDownIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 50\n            }, this),\n            children: \"A\\xF1adir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MenuList, {\n            children: [dietTagData.map(diet => {\n              const add = () => {\n                addTag(diet.name);\n              };\n\n              if (!tags.includes(diet.name)) return /*#__PURE__*/_jsxDEV(MenuItem, {\n                onClick: add,\n                children: diet.displayName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 23\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(MenuItem, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => setIsOnCustomInput(true),\n                children: \"Otra...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  };\n\n  _s3(DietTagsEdit, \"oIhOrrjtNRDjg44XPLgtkwCcaiU=\");\n\n  const AddConfiguration = () => {\n    _s4();\n\n    const [isOnAdd, setIsOnAdd] = useState(false);\n    const [propertyName, setPropertyName] = useState(\"\");\n\n    const handlePropertyName = event => setPropertyName(event.target.value);\n\n    const handleIsOnAdd = () => setIsOnAdd(true);\n\n    const handleAddConfiguration = () => {\n      addAditionalOption({\n        propertyName: propertyName,\n        options: []\n      });\n    };\n\n    return /*#__PURE__*/_jsxDEV(Container, {\n      p: \"3\",\n      children: isOnAdd ? /*#__PURE__*/_jsxDEV(HStack, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Nueva Configuracion del producto\",\n          value: propertyName,\n          onChange: handlePropertyName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          colorScheme: \"teal\",\n          icon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 21\n          }, this),\n          onClick: () => handleAddConfiguration()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"teal\",\n        w: \"100%\",\n        onClick: handleIsOnAdd,\n        children: \"Agregar Nueva Configuracion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this);\n  };\n\n  _s4(AddConfiguration, \"a+bT8HoV/DJ7bkyIT1XuH4UXbgI=\");\n\n  const AditionalOption = _ref2 => {\n    _s5();\n\n    let {\n      option\n    } = _ref2;\n    const [newOption, setNewOption] = useState(\"\");\n\n    const handleNewOption = e => setNewOption(e.target.value);\n\n    const handleAddNewOption = () => {\n      addChildOption(option.propertyName, newOption);\n    };\n\n    return /*#__PURE__*/_jsxDEV(Stack, {\n      p: \"3\",\n      border: \"1px solid #DDDDDD\",\n      rounded: \"md\",\n      spacing: \"3\",\n      children: [/*#__PURE__*/_jsxDEV(CloseButton, {\n        onClick: () => removeAditionalOption(option)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Heading, {\n        size: \"md\",\n        children: option.propertyName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), option.options.map(op => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: op\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(HStack, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Opcion\",\n          onChange: handleNewOption,\n          value: newOption\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          icon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 29\n          }, this),\n          onClick: handleAddNewOption\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this);\n  };\n\n  _s5(AditionalOption, \"Ci9w88l9xUvvdG/sW3vRi58y1BM=\");\n\n  const fileUploader = useRef(null);\n  const toast = useToast();\n\n  const onImageChange = event => {\n    if (event.target.files && event.target.files[0]) {\n      let reader = new FileReader();\n\n      reader.onload = e => setImgURL(e.target.result);\n\n      reader.readAsDataURL(event.target.files[0]);\n      setImgFile(event.target.files[0]);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: \"true\",\n    size: \"xl\",\n    onClose: props.close,\n    children: [/*#__PURE__*/_jsxDEV(ModalOverlay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalContent, {\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        children: name ? `Editar ${name}` : \"Nuevo Plato\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalCloseButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: /*#__PURE__*/_jsxDEV(VStack, {\n          gap: 10,\n          children: [imgURL ? /*#__PURE__*/_jsxDEV(Tooltip, {\n            label: \"Hace click en la foto para cambiarla\",\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              children: imgFile ? /*#__PURE__*/_jsxDEV(Image, {\n                src: imgURL,\n                style: {\n                  borderRadius: 10,\n                  width: \"100%\"\n                },\n                onClick: () => fileUploader.current.click()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(MenuItemImage, {\n                item: props.item,\n                style: {\n                  borderRadius: 10,\n                  width: \"100%\"\n                },\n                onClick: () => fileUploader.current.click()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            w: \"100%\",\n            h: 200,\n            rightIcon: /*#__PURE__*/_jsxDEV(AttachmentIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 28\n            }, this),\n            onClick: () => fileUploader.current.click(),\n            rounded: \"lg\",\n            colorScheme: \"teal\",\n            children: \"Elegir una imagen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            style: {\n              display: \"none\"\n            },\n            ref: fileUploader,\n            onChange: onImageChange,\n            accept: \"/image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            spacing: \"5\",\n            w: \"100%\",\n            p: \"5\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              value: name,\n              onChange: handleNameChange,\n              placeholder: \"Nombre del Plato / Producto\",\n              name: \"name\",\n              size: \"lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: category,\n              onChange: handleCategoryChange,\n              placeholder: \"Categor\\xEDa\",\n              name: \"category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              value: description,\n              onChange: handleDescriptionChange,\n              placeholder: \"Describe el Producto...\\t\",\n              name: \"description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Heading, {\n              size: \"lg\",\n              children: \"Configuraciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ConfigurationArea, {\n              title: \"Variantes\",\n              values: variants,\n              handleAdd: addVariant,\n              handleRemove: removeVariant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ConfigurationArea, {\n              title: \"Extras\",\n              values: extras,\n              handleAdd: addExtra,\n              handleRemove: removeExtra\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DietTagsEdit, {\n              tags: tags\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), aditionalOptions.map(option => /*#__PURE__*/_jsxDEV(AditionalOption, {\n              option: option\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(AddConfiguration, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n        children: /*#__PURE__*/_jsxDEV(HStack, {\n          spacing: 4,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: props.close,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RemoveButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            colorScheme: \"blue\",\n            onClick: handleSubmit,\n            children: \"Guardar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 418,\n    columnNumber: 5\n  }, this);\n};\n\n_s6(EditMenuItemWindow, \"LttO+zcBH0mWZaM7Ls1/455tNq0=\", false, function () {\n  return [useToast];\n});\n\n_c = EditMenuItemWindow;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditMenuItemWindow\");","map":{"version":3,"sources":["C:/Users/sebastianWin/dev/comander/cmdrwebfront/src/pages/dashboard/editMenuItemWindow.js"],"names":["AddIcon","AttachmentIcon","ChevronDownIcon","Box","Button","CloseButton","Heading","HStack","Input","Modal","ModalBody","ModalOverlay","ModalContent","VStack","Stack","Textarea","useDisclosure","ModalHeader","ModalCloseButton","ModalFooter","InputGroup","InputLeftElement","Tag","Avatar","TagLabel","IconButton","Menu","MenuButton","MenuList","MenuItem","Table","TableCaption","Thead","Tr","Th","Tbody","Td","Image","Tooltip","useToast","Container","SimpleGrid","Popover","PopoverTrigger","Portal","PopoverContent","PopoverArrow","PopoverHeader","PopoverCloseButton","PopoverBody","Text","useRef","useState","deleteMenuItem","newMenuItem","uploadImg","dietTagData","getDietData","MenuItemImage","EditMenuItemWindow","props","name","setName","item","category","setCategory","description","setDescription","imgURL","setImgURL","variants","setVariants","tags","setTags","extras","setExtras","aditionalOptions","setAditionalOptions","imgFile","setImgFile","handleNameChange","e","target","value","handleCategoryChange","handleDescriptionChange","addVariant","variant","concat","addExtra","extra","addAditionalOption","option","removeVariant","variantToDelete","filter","removeExtra","extraToDelete","removeAditionalOption","optionToDelete","addChildOption","propertyName","optionName","oldParentOption","find","newParentOption","options","handleSubmit","itemObj","then","res","message","id","error","toast","title","status","duration","isClosable","catch","err","handleRemove","_id","RemoveButton","onRemove","setOnRemove","ConfigurationArea","values","handleAdd","setItem","price","handleChange","event","map","DietTagsEdit","onCustomInput","setIsOnCustomInput","customTag","setCustomTag","handleCustomTagInput","handleAddCustomTag","addTag","removeTag","tagName","tag","remove","diet","add","includes","displayName","AddConfiguration","isOnAdd","setIsOnAdd","setPropertyName","handlePropertyName","handleIsOnAdd","handleAddConfiguration","AditionalOption","newOption","setNewOption","handleNewOption","handleAddNewOption","op","fileUploader","onImageChange","files","reader","FileReader","onload","result","readAsDataURL","close","borderRadius","width","current","click","display"],"mappings":"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","sourcesContent":["import { AddIcon, AttachmentIcon, ChevronDownIcon } from \"@chakra-ui/icons\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  CloseButton,\r\n  Heading,\r\n  HStack,\r\n  Input,\r\n  Modal,\r\n  ModalBody,\r\n  ModalOverlay,\r\n  ModalContent,\r\n  VStack,\r\n  Stack,\r\n  Textarea,\r\n  useDisclosure,\r\n  ModalHeader,\r\n  ModalCloseButton,\r\n  ModalFooter,\r\n  InputGroup,\r\n  InputLeftElement,\r\n  Tag,\r\n  Avatar,\r\n  TagLabel,\r\n  IconButton,\r\n  Menu,\r\n  MenuButton,\r\n  MenuList,\r\n  MenuItem,\r\n  Table,\r\n  TableCaption,\r\n  Thead,\r\n  Tr,\r\n  Th,\r\n  Tbody,\r\n  Td,\r\n  Image,\r\n  Tooltip,\r\n  useToast,\r\n  Container,\r\n  SimpleGrid,\r\n  Popover,\r\n  PopoverTrigger,\r\n  Portal,\r\n  PopoverContent,\r\n  PopoverArrow,\r\n  PopoverHeader,\r\n  PopoverCloseButton,\r\n  PopoverBody,\r\n  Text,\r\n} from \"@chakra-ui/react\";\r\n\r\nimport { useRef, useState } from \"react\";\r\nimport { deleteMenuItem } from \"../../scripts/deleteMenuItem\";\r\nimport { newMenuItem } from \"../../scripts/newMenuItem\";\r\nimport { uploadImg } from \"../../scripts/uploadImg\";\r\nimport { dietTagData, getDietData } from \"../menu/dietTags\";\r\nimport { MenuItemImage } from \"../menu/menuItemImage\";\r\n\r\nexport const EditMenuItemWindow = (props) => {\r\n  const [name, setName] = useState(props.item.name);\r\n  const [category, setCategory] = useState(props.item.category.name);\r\n  const [description, setDescription] = useState(props.item.description);\r\n  const [imgURL, setImgURL] = useState(props.item.imgURL);\r\n  const [variants, setVariants] = useState(props.item.variants);\r\n  const [tags, setTags] = useState(props.item.tags);\r\n  const [extras, setExtras] = useState(props.item.extras);\r\n  const [aditionalOptions, setAditionalOptions] = useState(\r\n    props.item.aditionalOptions\r\n  );\r\n  const [imgFile, setImgFile] = useState(null);\r\n\r\n  const handleNameChange = (e) => setName(e.target.value);\r\n  const handleCategoryChange = (e) => setCategory(e.target.value);\r\n  const handleDescriptionChange = (e) => setDescription(e.target.value);\r\n\r\n  const addVariant = (variant) => setVariants(variants.concat(variant));\r\n  const addExtra = (extra) => setExtras(extras.concat(extra));\r\n  const addAditionalOption = (option) =>\r\n    setAditionalOptions(aditionalOptions.concat(option));\r\n\r\n  const removeVariant = (variantToDelete) =>\r\n    setVariants(variants.filter((variant) => variant != variantToDelete));\r\n  const removeExtra = (extraToDelete) =>\r\n    setExtras(extras.filter((extra) => extra != extraToDelete));\r\n\r\n  const removeAditionalOption = (optionToDelete) =>\r\n    setAditionalOptions(\r\n      aditionalOptions.filter((option) => option != optionToDelete)\r\n    );\r\n\r\n  const addChildOption = (propertyName, optionName) => {\r\n    const oldParentOption = aditionalOptions.find(\r\n      (option) => option.propertyName == propertyName\r\n    );\r\n    const newParentOption = {\r\n      ...oldParentOption,\r\n      options: oldParentOption.options.concat(optionName),\r\n    };\r\n    setAditionalOptions(\r\n      aditionalOptions\r\n        .filter((option) => option.propertyName != propertyName)\r\n        .concat(newParentOption)\r\n    );\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    const itemObj = {\r\n      name,\r\n      category,\r\n      description,\r\n      imgURL: imgFile ? imgFile.name : imgURL,\r\n      tags,\r\n      variants,\r\n      extras,\r\n      aditionalOptions,\r\n    };\r\n    newMenuItem(itemObj)\r\n      .then((res) => {\r\n        const { message, id, error } = res;\r\n\r\n        toast({\r\n          title: error ? \"Error Al Guardar!\" : \"Guadado!\",\r\n          description: error ? error : message,\r\n          status: error ? \"error\" : \"success\",\r\n          duration: 9000,\r\n          isClosable: true,\r\n        });\r\n\r\n        if (imgFile && !error) {\r\n          uploadImg(imgFile, id)\r\n            .then((res) =>\r\n              toast({\r\n                title: \"Se GuardÃ³ la Imagen\",\r\n                description: res.message,\r\n                status: \"success\",\r\n                duration: 9000,\r\n                isClosable: true,\r\n              })\r\n            )\r\n            .catch((err) =>\r\n              toast({\r\n                title: err.message,\r\n                status: \"error\",\r\n                duration: 9000,\r\n                isClosable: true,\r\n              })\r\n            );\r\n        }\r\n      })\r\n      .catch((err) =>\r\n        toast({\r\n          title: err.message,\r\n          status: \"error\",\r\n          duration: 9000,\r\n          isClosable: true,\r\n        })\r\n      );\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    deleteMenuItem(props.item._id)\r\n      .then((res) =>\r\n        toast({\r\n          title: res.error ? \"Error Al Guardar!\" : \"Guadado!\",\r\n          description: res.error ? res.error : res.message,\r\n          status: res.error ? \"error\" : \"success\",\r\n          duration: 9000,\r\n          isClosable: true,\r\n        })\r\n      )\r\n      .catch((err) =>\r\n        toast({\r\n          title: err,\r\n          description: err,\r\n          status: \"error\",\r\n          duration: 9000,\r\n          isClosable: true,\r\n        })\r\n      );\r\n  };\r\n\r\n  const RemoveButton = () => {\r\n    const [onRemove, setOnRemove] = useState(false);\r\n\r\n    return onRemove ? (\r\n      <Button colorScheme={\"red\"}>{`Estoy Seguro de Eliminar ${name} `}</Button>\r\n    ) : (\r\n      <Button\r\n        colorScheme={\"red\"}\r\n        variant={\"outline\"}\r\n        onClick={() => setOnRemove(true)}\r\n      >\r\n        Eliminar\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  const ConfigurationArea = ({ title, values, handleAdd, handleRemove }) => {\r\n    const [item, setItem] = useState({\r\n      name: \"\",\r\n      price: 0,\r\n    });\r\n\r\n    const handleChange = (event) => {\r\n      const { name, value } = event.target;\r\n      setItem({ ...item, [name]: value });\r\n    };\r\n\r\n    return (\r\n      <Stack spacing={4} p=\"3\" border={\"1px solid #DDDDDD \"} rounded=\"lg\">\r\n        <Heading size={\"md\"}> {title} </Heading>\r\n\r\n        <Table variant=\"simple\">\r\n          <Thead>\r\n            <Tr>\r\n              <Th>Nombre</Th>\r\n              <Th>Precio</Th>\r\n            </Tr>\r\n          </Thead>\r\n          <Tbody>\r\n            {values.map((value) => (\r\n              <Tr>\r\n                <Td>{value.name}</Td>\r\n                <Td>${value.price}</Td>\r\n                <CloseButton onClick={() => handleRemove(value)} />\r\n              </Tr>\r\n            ))}\r\n          </Tbody>\r\n        </Table>\r\n        <HStack>\r\n          <InputGroup>\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Nombre \"\r\n              name=\"name\"\r\n              value={item.name}\r\n              onChange={handleChange}\r\n            />\r\n          </InputGroup>\r\n\r\n          <InputGroup>\r\n            <InputLeftElement\r\n              pointerEvents=\"none\"\r\n              color=\"gray.300\"\r\n              fontSize=\"1.2em\"\r\n              children=\"$\"\r\n            />\r\n            <Input\r\n              placeholder=\"Precio\"\r\n              type={\"number\"}\r\n              name=\"price\"\r\n              value={item.price}\r\n              onChange={handleChange}\r\n            />\r\n          </InputGroup>\r\n\r\n          <IconButton icon={<AddIcon />} onClick={() => handleAdd(item)} />\r\n        </HStack>\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  const DietTagsEdit = (props) => {\r\n    const [onCustomInput, setIsOnCustomInput] = useState(false);\r\n    const [customTag, setCustomTag] = useState(\"\");\r\n\r\n    const handleCustomTagInput = (event) => setCustomTag(event.target.value);\r\n\r\n    const handleAddCustomTag = () => {\r\n      addTag(customTag);\r\n      setCustomTag(\"\");\r\n    };\r\n\r\n    const removeTag = (tagName) => {\r\n      setTags(tags.filter((tag) => tag != tagName));\r\n    };\r\n\r\n    const addTag = (tagName) => setTags(tags.concat(tagName));\r\n\r\n    return (\r\n      <>\r\n        <Stack p=\"3\" spacing=\"3\" border={\"1px solid #DDDDDD \"} rounded=\"lg\">\r\n          <Heading size=\"md\"> Etiquetas </Heading>\r\n          <Container>\r\n            {props.tags.map((tag) => {\r\n              const { imgURL, name } = getDietData(tag);\r\n\r\n              const remove = () => removeTag(tag);\r\n\r\n              return (\r\n                <Tag size=\"lg\" borderRadius=\"full\" m=\"1\">\r\n                  <Avatar src={imgURL} size=\"xs\" name={name} ml={-1} mr={2} />\r\n                  <TagLabel>{name}</TagLabel>\r\n                  <CloseButton onClick={remove} />\r\n                </Tag>\r\n              );\r\n            })}\r\n          </Container>\r\n\r\n          {onCustomInput ? (\r\n            <HStack>\r\n              <Input\r\n                placeholder=\"Otra etiqueta\"\r\n                onChange={handleCustomTagInput}\r\n                value={customTag}\r\n              />\r\n              <IconButton icon={<AddIcon />} onClick={handleAddCustomTag} />\r\n            </HStack>\r\n          ) : (\r\n            <Menu>\r\n              <MenuButton as={Button} rightIcon={<ChevronDownIcon />}>\r\n                AÃ±adir\r\n              </MenuButton>\r\n              <MenuList>\r\n                {dietTagData.map((diet) => {\r\n                  const add = () => {\r\n                    addTag(diet.name);\r\n                  };\r\n                  if (!tags.includes(diet.name))\r\n                    return (\r\n                      <MenuItem onClick={add}>{diet.displayName}</MenuItem>\r\n                    );\r\n                })}\r\n\r\n                <MenuItem>\r\n                  <Button onClick={() => setIsOnCustomInput(true)}>\r\n                    Otra...\r\n                  </Button>\r\n                </MenuItem>\r\n              </MenuList>\r\n            </Menu>\r\n          )}\r\n        </Stack>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const AddConfiguration = () => {\r\n    const [isOnAdd, setIsOnAdd] = useState(false);\r\n    const [propertyName, setPropertyName] = useState(\"\");\r\n    const handlePropertyName = (event) => setPropertyName(event.target.value);\r\n    const handleIsOnAdd = () => setIsOnAdd(true);\r\n\r\n    const handleAddConfiguration = () => {\r\n      addAditionalOption({ propertyName: propertyName, options: [] });\r\n    };\r\n\r\n    return (\r\n      <Container p=\"3\">\r\n        {isOnAdd ? (\r\n          <HStack>\r\n            <Input\r\n              placeholder=\"Nueva Configuracion del producto\"\r\n              value={propertyName}\r\n              onChange={handlePropertyName}\r\n            />\r\n\r\n            <IconButton\r\n              colorScheme={\"teal\"}\r\n              icon={<AddIcon />}\r\n              onClick={() => handleAddConfiguration()}\r\n            />\r\n          </HStack>\r\n        ) : (\r\n          <Button colorScheme=\"teal\" w=\"100%\" onClick={handleIsOnAdd}>\r\n            Agregar Nueva Configuracion\r\n          </Button>\r\n        )}\r\n      </Container>\r\n    );\r\n  };\r\n\r\n  const AditionalOption = ({ option }) => {\r\n    const [newOption, setNewOption] = useState(\"\");\r\n    const handleNewOption = (e) => setNewOption(e.target.value);\r\n\r\n    const handleAddNewOption = () => {\r\n      addChildOption(option.propertyName, newOption);\r\n    };\r\n\r\n    return (\r\n      <Stack p=\"3\" border=\"1px solid #DDDDDD\" rounded={\"md\"} spacing=\"3\">\r\n        <CloseButton onClick={() => removeAditionalOption(option)} />\r\n\r\n        <Heading size=\"md\">{option.propertyName}</Heading>\r\n\r\n        {option.options.map((op) => (\r\n          <li>{op}</li>\r\n        ))}\r\n\r\n        <HStack>\r\n          <Input\r\n            placeholder=\"Opcion\"\r\n            onChange={handleNewOption}\r\n            value={newOption}\r\n          />\r\n          <IconButton icon={<AddIcon />} onClick={handleAddNewOption} />\r\n        </HStack>\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  const fileUploader = useRef(null);\r\n  const toast = useToast();\r\n\r\n  const onImageChange = (event) => {\r\n    if (event.target.files && event.target.files[0]) {\r\n      let reader = new FileReader();\r\n      reader.onload = (e) => setImgURL(e.target.result);\r\n      reader.readAsDataURL(event.target.files[0]);\r\n\r\n      setImgFile(event.target.files[0]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal isOpen=\"true\" size=\"xl\" onClose={props.close}>\r\n      <ModalOverlay />\r\n      <ModalContent>\r\n        <ModalHeader>{name ? `Editar ${name}` : \"Nuevo Plato\"}</ModalHeader>\r\n        <ModalCloseButton />\r\n        <ModalBody>\r\n          <VStack gap={10}>\r\n            {imgURL ? (\r\n              <Tooltip label=\"Hace click en la foto para cambiarla\">\r\n                <Box>\r\n                  {imgFile ? (\r\n                    <Image\r\n                      src={imgURL}\r\n                      style={{ borderRadius: 10, width: \"100%\" }}\r\n                      onClick={() => fileUploader.current.click()}\r\n                    />\r\n                  ) : (\r\n                    <MenuItemImage\r\n                      item={props.item}\r\n                      style={{ borderRadius: 10, width: \"100%\" }}\r\n                      onClick={() => fileUploader.current.click()}\r\n                    />\r\n                  )}\r\n                </Box>\r\n              </Tooltip>\r\n            ) : (\r\n              <Button\r\n                w=\"100%\"\r\n                h={200}\r\n                rightIcon={<AttachmentIcon />}\r\n                onClick={() => fileUploader.current.click()}\r\n                rounded={\"lg\"}\r\n                colorScheme={\"teal\"}\r\n              >\r\n                Elegir una imagen\r\n              </Button>\r\n            )}\r\n\r\n            <input\r\n              type=\"file\"\r\n              style={{ display: \"none\" }}\r\n              ref={fileUploader}\r\n              onChange={onImageChange}\r\n              accept=\"/image\"\r\n            />\r\n\r\n            <Stack spacing=\"5\" w=\"100%\" p=\"5\">\r\n              <Input\r\n                value={name}\r\n                onChange={handleNameChange}\r\n                placeholder=\"Nombre del Plato / Producto\"\r\n                name=\"name\"\r\n                size=\"lg\"\r\n              />\r\n              <Input\r\n                value={category}\r\n                onChange={handleCategoryChange}\r\n                placeholder=\"CategorÃ­a\"\r\n                name=\"category\"\r\n              />\r\n              <Textarea\r\n                value={description}\r\n                onChange={handleDescriptionChange}\r\n                placeholder=\"Describe el Producto...\t\"\r\n                name=\"description\"\r\n              />\r\n\r\n              <Heading size=\"lg\">Configuraciones</Heading>\r\n\r\n              <ConfigurationArea\r\n                title=\"Variantes\"\r\n                values={variants}\r\n                handleAdd={addVariant}\r\n                handleRemove={removeVariant}\r\n              />\r\n\r\n              <ConfigurationArea\r\n                title=\"Extras\"\r\n                values={extras}\r\n                handleAdd={addExtra}\r\n                handleRemove={removeExtra}\r\n              />\r\n\r\n              <DietTagsEdit tags={tags} />\r\n\r\n              {aditionalOptions.map((option) => (\r\n                <AditionalOption option={option} />\r\n              ))}\r\n\r\n              <AddConfiguration />\r\n            </Stack>\r\n          </VStack>\r\n        </ModalBody>\r\n\r\n        <ModalFooter>\r\n          <HStack spacing={4}>\r\n            <Button onClick={props.close}>Cancelar</Button>\r\n\r\n            <RemoveButton />\r\n\r\n            <Button colorScheme=\"blue\" onClick={handleSubmit}>\r\n              Guardar\r\n            </Button>\r\n          </HStack>\r\n        </ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}